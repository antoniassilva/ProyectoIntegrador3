{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\toias\\\\OneDrive\\\\Desktop\\\\ProyectoIntegrador3-1\\\\proyecto\\\\src\\\\screens\\\\Detalle\\\\Detalle.js\";\nimport React, { Component } from 'react';\nimport \"./styless.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nclass Detalle extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      pelicula: null,\n      favorito: false\n    };\n  }\n  componentDidMount() {\n    const idPelicula = this.props.match.params.id;\n    console.log(idPelicula)\n\n    // fetch(`https://api.themoviedb.org/3/movie/${idPelicula}?api_key=2aa8547904e3b24a3d305a661689f936`)\n    .then(response => response.json()).then(data => {\n      console.log(data);\n      this.setState({\n        pelicula: data\n      });\n    }).catch(error => console.error(\"Error al traer detalle:\", error));\n    let storage = localStorage.getItem('favorita');\n    if (storage !== null) {\n      let storageParseado = JSON.parse(storage);\n      let estaMiId = storageParseado.includes(idPelicula);\n      if (estaMiId) {\n        this.setState({\n          favorito: true\n        });\n      }\n    }\n  }\n  agregarFavorita(id) {\n    let storage = localStorage.getItem('favorita');\n    if (storage !== null) {\n      let arrParseado = JSON.parse(storage);\n      arrParseado.push(id);\n      let arrStringificado = JSON.stringify(arrParseado);\n      localStorage.setItem('favorita', arrStringificado);\n    } else {\n      let primerID = [id];\n      let arrStringificado = JSON.stringify(primerID);\n      localStorage.setItem('favorita', arrStringificado);\n    }\n    this.setState({\n      favorito: true\n    });\n  }\n  sacarFavorita(id) {\n    const storage = localStorage.getItem('favorita');\n    const storageParseado = JSON.parse(storage);\n    const filtrarStorage = storageParseado.filter(elm => elm !== id);\n    const storageStringificado = JSON.stringify(filtrarStorage);\n    localStorage.setItem('favorita', storageStringificado);\n    this.setState({\n      favorito: false\n    });\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"detalle-container\",\n      children: this.state.pelicula === null ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Cargando...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"detalle-title\",\n          children: this.state.pelicula.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detalle-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: `https://image.tmdb.org/t/p/w300${this.state.pelicula.poster_path}`,\n            className: \"detalle-poster\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detalle-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Resumen:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 16\n              }, this), \" \", this.state.pelicula.overview]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Fecha de estreno:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 16\n              }, this), \" \", this.state.pelicula.release_date]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Rating:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 16\n              }, this), \" \", this.state.pelicula.vote_average]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Duracion:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 16\n              }, this), \" \", this.state.pelicula.runtime, \" minutos\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"G\\xE9nero:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 16\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 13\n            }, this), this.state.favorito ? /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => this.sacarFavorita(this.state.pelicula.id),\n              children: \"Quitar de Favoritos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 13\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => this.agregarFavorita(this.state.pelicula.id),\n              children: \"Agregar a Favoritos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default Detalle;","map":{"version":3,"names":["React","Component","jsxDEV","_jsxDEV","Fragment","_Fragment","Detalle","constructor","props","state","pelicula","favorito","componentDidMount","idPelicula","match","params","id","console","log","then","response","json","data","setState","catch","error","storage","localStorage","getItem","storageParseado","JSON","parse","estaMiId","includes","agregarFavorita","arrParseado","push","arrStringificado","stringify","setItem","primerID","sacarFavorita","filtrarStorage","filter","elm","storageStringificado","render","className","children","fileName","_jsxFileName","lineNumber","columnNumber","title","src","poster_path","overview","release_date","vote_average","runtime","onClick"],"sources":["C:/Users/toias/OneDrive/Desktop/ProyectoIntegrador3-1/proyecto/src/screens/Detalle/Detalle.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport \"./styless.css\"\r\n\r\n\r\nclass Detalle extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      pelicula: null,\r\n      favorito: false\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    const idPelicula = this.props.match.params.id;\r\n    console.log(idPelicula)\r\n\r\n   // fetch(`https://api.themoviedb.org/3/movie/${idPelicula}?api_key=2aa8547904e3b24a3d305a661689f936`)\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        console.log(data);\r\n        this.setState({ pelicula: data });\r\n      })\r\n      .catch((error) => console.error(\"Error al traer detalle:\", error));\r\n    \r\n      let storage= localStorage.getItem('favorita')\r\n      if(storage !== null){\r\n        let storageParseado = JSON.parse(storage)\r\n        let estaMiId = storageParseado.includes(idPelicula)\r\n  \r\n        if(estaMiId){\r\n          this.setState({favorito: true})\r\n        }\r\n      }\r\n  }\r\n\r\n  agregarFavorita(id){\r\n    let storage = localStorage.getItem('favorita')\r\n    if(storage !== null){\r\n      let arrParseado = JSON.parse(storage)\r\n      arrParseado.push(id)\r\n      let arrStringificado = JSON.stringify(arrParseado)\r\n      localStorage.setItem('favorita', arrStringificado)\r\n    } else {\r\n      let primerID = [id]\r\n      let arrStringificado = JSON.stringify(primerID)\r\n      localStorage.setItem('favorita', arrStringificado)\r\n    }\r\n\r\n    this.setState({\r\n      favorito: true\r\n    })\r\n  }\r\n\r\n  sacarFavorita(id){\r\n    const storage = localStorage.getItem('favorita')\r\n    const storageParseado = JSON.parse(storage)\r\n    const filtrarStorage = storageParseado.filter((elm) => elm !== id )\r\n    const storageStringificado = JSON.stringify(filtrarStorage)\r\n    localStorage.setItem('favorita', storageStringificado)\r\n\r\n    this.setState({\r\n      favorito: false\r\n    })\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      \r\n      <section className=\"detalle-container\">\r\n       {\r\n        this.state.pelicula === null ? \r\n        <p>Cargando...</p> \r\n        : \r\n        <>\r\n        <h2 className=\"detalle-title\">{this.state.pelicula.title}</h2>\r\n        <div className=\"detalle-content\">\r\n          <img\r\n            src={`https://image.tmdb.org/t/p/w300${this.state.pelicula.poster_path}`}\r\n            className=\"detalle-poster\"\r\n          />\r\n          <div className=\"detalle-info\">\r\n            <p><strong>Resumen:</strong> {this.state.pelicula.overview}</p>\r\n            <p><strong>Fecha de estreno:</strong> {this.state.pelicula.release_date}</p>\r\n            <p><strong>Rating:</strong> {this.state.pelicula.vote_average}</p>\r\n            <p><strong>Duracion:</strong> {this.state.pelicula.runtime} minutos</p>\r\n            <p><strong>Género:</strong></p>\r\n           \r\n          {\r\n            this.state.favorito ?\r\n            <button onClick={()=> this.sacarFavorita(this.state.pelicula.id) }>Quitar de Favoritos</button>\r\n            :\r\n            <button onClick={() => this.agregarFavorita(this.state.pelicula.id)}>Agregar a Favoritos</button>\r\n          }\r\n\r\n          </div>\r\n        </div>\r\n      </>\r\n}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Detalle;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}