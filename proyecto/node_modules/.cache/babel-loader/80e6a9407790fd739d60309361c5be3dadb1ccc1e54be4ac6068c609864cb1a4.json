{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\toias\\\\OneDrive\\\\Desktop\\\\ProyectoIntegrador3-1\\\\proyecto\\\\src\\\\screens\\\\Detalle\\\\Detalle.js\";\nimport React, { Component } from 'react';\nimport \"./styless.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Detalle extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      pelicula: null,\n      favorito: false\n    };\n  }\n  componentDidMount() {\n    const idPelicula = this.props.match.params.id;\n    console.log(idPelicula);\n    fetch(`https://api.themoviedb.org/3/movie/${idPelicula}?api_key=2aa8547904e3b24a3d305a661689f936`).then(response => response.json()).then(data => {\n      console.log(data);\n      this.setState({\n        pelicula: data\n      });\n    }).catch(error => console.error(\"Error al traer detalle:\", error));\n    let storage = localStorage.getItem('favorita');\n    if (storage !== null) {\n      let storageParseado = JSON.parse(storage);\n      let estaMiId = storageParseado.includes(idPelicula);\n      if (estaMiId) {\n        this.setState({\n          favorito: true\n        });\n      }\n    }\n  }\n  agregarFavorita(id) {\n    let storage = localStorage.getItem('favorita');\n    if (storage !== null) {\n      let arrParseado = JSON.parse(storage);\n      arrParseado.push(id);\n      let arrStringificado = JSON.stringify(arrParseado);\n      localStorage.setItem('favorita', arrStringificado);\n    } else {\n      let primerID = [id];\n      let arrStringificado = JSON.stringify(primerID);\n      localStorage.setItem('favorita', arrStringificado);\n    }\n    this.setState({\n      favorito: true\n    });\n  }\n  sacarFavorita(id) {\n    const storage = localStorage.getItem('favorita');\n    const storageParseado = JSON.parse(storage);\n    const filtrarStorage = storageParseado.filter(elm => elm !== id);\n    const storageStringificado = JSON.stringify(filtrarStorage);\n    localStorage.setItem('favorita', storageStringificado);\n    this.setState({\n      favorito: false\n    });\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)\n    /* <section className=\"detalle-container\">\r\n     {\r\n      this.state.pelicula === null ? \r\n      <p>Cargando...</p> \r\n      : \r\n      <>\r\n      <h2 className=\"detalle-title\">{this.state.pelicula.title}</h2>\r\n      <div className=\"detalle-content\">\r\n        <img\r\n          src={`https://image.tmdb.org/t/p/w300${this.state.pelicula.poster_path}`}\r\n          className=\"detalle-poster\"\r\n        />\r\n        <div className=\"detalle-info\">\r\n          <p><strong>Resumen:</strong> {this.state.pelicula.overview}</p>\r\n          <p><strong>Fecha de estreno:</strong> {this.state.pelicula.release_date}</p>\r\n          <p><strong>Rating:</strong> {this.state.pelicula.vote_average}</p>\r\n          <p><strong>Duracion:</strong> {this.state.pelicula.runtime} minutos</p>\r\n          <p><strong>Género:</strong></p>\r\n         \r\n        {\r\n          this.state.favorito ?\r\n          <button onClick={()=> this.sacarFavorita(this.state.pelicula.id) }>Quitar de Favoritos</button>\r\n          :\r\n          <button onClick={() => this.agregarFavorita(this.state.pelicula.id)}>Agregar a Favoritos</button>\r\n        }\r\n          </div>\r\n      </div>\r\n    </>\r\n    }\r\n    </section> */;\n  }\n}\nexport default Detalle;","map":{"version":3,"names":["React","Component","jsxDEV","_jsxDEV","Detalle","constructor","props","state","pelicula","favorito","componentDidMount","idPelicula","match","params","id","console","log","fetch","then","response","json","data","setState","catch","error","storage","localStorage","getItem","storageParseado","JSON","parse","estaMiId","includes","agregarFavorita","arrParseado","push","arrStringificado","stringify","setItem","primerID","sacarFavorita","filtrarStorage","filter","elm","storageStringificado","render","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["C:/Users/toias/OneDrive/Desktop/ProyectoIntegrador3-1/proyecto/src/screens/Detalle/Detalle.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport \"./styless.css\"\r\n\r\n\r\nclass Detalle extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      pelicula: null,\r\n      favorito: false\r\n    };\r\n  }\r\n\r\n \r\n\r\n  componentDidMount() {\r\n\r\n    const idPelicula = this.props.match.params.id;\r\n    console.log(idPelicula)\r\n\r\n    fetch(`https://api.themoviedb.org/3/movie/${idPelicula}?api_key=2aa8547904e3b24a3d305a661689f936`)\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        console.log(data);\r\n        this.setState({ pelicula: data });\r\n      })\r\n      .catch((error) => console.error(\"Error al traer detalle:\", error));\r\n    \r\n      let storage= localStorage.getItem('favorita')\r\n      if(storage !== null){\r\n        let storageParseado = JSON.parse(storage)\r\n        let estaMiId = storageParseado.includes(idPelicula)\r\n  \r\n        if(estaMiId){\r\n          this.setState({favorito: true})\r\n        }\r\n      }\r\n  }\r\n\r\n  agregarFavorita(id){\r\n    let storage = localStorage.getItem('favorita')\r\n    if(storage !== null){\r\n      let arrParseado = JSON.parse(storage)\r\n      arrParseado.push(id)\r\n      let arrStringificado = JSON.stringify(arrParseado)\r\n      localStorage.setItem('favorita', arrStringificado)\r\n    } else {\r\n      let primerID = [id]\r\n      let arrStringificado = JSON.stringify(primerID)\r\n      localStorage.setItem('favorita', arrStringificado)\r\n    }\r\n\r\n    this.setState({\r\n      favorito: true\r\n    })\r\n  }\r\n\r\n  sacarFavorita(id){\r\n    const storage = localStorage.getItem('favorita')\r\n    const storageParseado = JSON.parse(storage)\r\n    const filtrarStorage = storageParseado.filter((elm) => elm !== id )\r\n    const storageStringificado = JSON.stringify(filtrarStorage)\r\n    localStorage.setItem('favorita', storageStringificado)\r\n\r\n    this.setState({\r\n      favorito: false\r\n    })\r\n  }\r\n  render() {\r\n\r\n    return (\r\n      <p></p>\r\n      /* <section className=\"detalle-container\">\r\n       {\r\n        this.state.pelicula === null ? \r\n        <p>Cargando...</p> \r\n        : \r\n        <>\r\n        <h2 className=\"detalle-title\">{this.state.pelicula.title}</h2>\r\n        <div className=\"detalle-content\">\r\n          <img\r\n            src={`https://image.tmdb.org/t/p/w300${this.state.pelicula.poster_path}`}\r\n            className=\"detalle-poster\"\r\n          />\r\n          <div className=\"detalle-info\">\r\n            <p><strong>Resumen:</strong> {this.state.pelicula.overview}</p>\r\n            <p><strong>Fecha de estreno:</strong> {this.state.pelicula.release_date}</p>\r\n            <p><strong>Rating:</strong> {this.state.pelicula.vote_average}</p>\r\n            <p><strong>Duracion:</strong> {this.state.pelicula.runtime} minutos</p>\r\n            <p><strong>Género:</strong></p>\r\n           \r\n          {\r\n            this.state.favorito ?\r\n            <button onClick={()=> this.sacarFavorita(this.state.pelicula.id) }>Quitar de Favoritos</button>\r\n            :\r\n            <button onClick={() => this.agregarFavorita(this.state.pelicula.id)}>Agregar a Favoritos</button>\r\n          }\r\n\r\n          </div>\r\n        </div>\r\n      </>\r\n}\r\n      </section> */\r\n    )\r\n  }\r\n}\r\n\r\nexport default Detalle;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}